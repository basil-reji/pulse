<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-social/5.1.1/bootstrap-social.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css">
<link rel="stylesheet" href="/styles/dashboard.css">

<div id="back">
    <a href="/dashboard"><i class="fa fa-arrow-left"></i><span>Back</span></a>
</div>
<style>
    section{
        position: relative;
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
    }
    .cam {
      width: 50rem;
      height: 30rem;
      border: 2px solid #00ffa2;
      position: relative;
    }
    video {
      width: 50rem;
      height: 30rem;
      object-fit: cover;
    }
    #but{
        background-color: #00ffa2;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        padding: 0.2rem 1rem;
    }
</style>
<main class="site-wrapper">
    <div class="pt-table desktop-768">
        <div class="pt-tablecell page-home relative" style="background-image: url('/images/hero-bg.jpg');
    background-position: center;
    background-size: cover;">
            <div class="overlay"></div>
            <section>
                <center>
                    <div class="cam">
                        <video id="vid"></video>
                    </div>
                    <br />
                    <button id="but" autoplay>
                        Open WebCam
                    </button>
                </center>
            </section>
        </div>
    </div>
</main>

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css"></script>
<script>
      document.addEventListener("DOMContentLoaded", () => {
        var but = document.getElementById("but");
        var video = document.getElementById("vid");
        var mediaDevices = navigator.mediaDevices;
        vid.muted = true;
        but.addEventListener("click", () => {
  
          // Accessing the user camera and video.
          mediaDevices
            .getUserMedia({
              video: true,
              audio: true,
            })
            .then((stream) => {
  
              // Changing the source of video to current stream.
              video.srcObject = stream;
              video.addEventListener("loadedmetadata", () => {
                video.play();
              });
            })
            .catch(alert);
        });
      });
    </script>